# -*- coding: utf-8 -*-
from master_lightsaber import lightsaber
import pickle
import pandas as pd
import os
import demjson
import json
import numpy as np

#version_cn = 0.2, fea 44
file_path = os.path.split(os.path.realpath(__file__))[0]


JEDI1 = pickle.load(open(file_path + os.sep + "/Model/201802051927_bio_stage1rfpc_fea44_v1_6.sav", 'r'))
JEDI2 = pickle.load(open(file_path + os.sep + "/Model/201802051927_bio_stage2rfpc_fea44_addselinumbot_v1_6.sav", 'r'))
                
#JEDI3 = pickle.load(open(file_path + os.sep + "/Model/201801251615_bio_stage2rfpc.sav", 'r'))


def handle(params):
    true_info_str = params.get("true_info").replace('\'', '\"')
    true_info = json.loads(true_info_str)

    event_behavior_data_str = params.get("event_info").replace('\'', '\"')
    event_behavior_data = json.loads(event_behavior_data_str)
    
    data = pd.DataFrame(event_behavior_data)

    de = 0.59613
    if true_info["scenario"] == 0:
        JEDI = JEDI1
    elif true_info["scenario"] == 1:
        if true_info["terminal"] == 0:
            JEDI = JEDI2
        else:
            JEDI = JEDI1
        
    else:
        return {"Bot": str(de)}
    #if len(data) <= 10:
        #print("too few data")
        #return {"Bot": str( de + 0.31)}

    try:
        result = lightsaber(data, JEDI, true_info)
    except:
        print("get errror here")
        return {"Bot": str(de + 0.00001)}
    
    #result = lightsaber(data, JEDI, true_info)
    
    result = np.float(result)
    print(result)

    return {"Bot": str(result)}


if __name__ == "__main__":
    # params =  {"event_info": { "Time": [1515639896196, 1238912], "event_type": [0, 1], "op_x": [681, 684],   "op_y": [538,  549],  "Action": ["_", "_"], "slidebarleft_x":[529.0, 530.0], "slidebarleft_y": [457.5, 458.8], "slidebarright_x": [565.0, 678], "slidebarright_y": [493.5,499] }}
    #params = '{"event_info": { "Time": [1515639896196, 1515639896296], "event_type": [0, 1], "op_x": [681, 684],   "op_y": [538,  549],  "Action": ["_", "_"]}, "true_info": {"correct_x": 595.0, "correct_y": 302.5, "slidebarleft_x": 529.0, "slidebarleft_y": 457.5, "slidebarright_x": 565.0,"slidebarright_y": 493.5, "scenario": 1, "terminal": 0}}'
    #params = {"event_info": {"Time": [1515639896196, 1515639896296], "event_type": [0, 1], "op_x": [681, 684], "op_y": [538, 549], "Action": ["_", "_"]}, "true_info": {"correct_x": 595.0, "correct_y": 302.5, "slidebarleft_x": 529.0, "slidebarleft_y": 457.5, "slidebarright_x": 565.0, "slidebarright_y": 493.5, "scenario": 1, "terminal": 1}}
    # params = {"event_info":[{"Time":1515639896196,  "event_type":0, "op_x":681, "op_y":538,  "Action":"_",  "correct_x":595.0, "correct_y":302.5, "slidebarleft_x":529.0, "slidebarleft_y":457.5, "slidebarright_x":565.0, "slidebarright_y":493.5},  {"Time":1515639896196,  "event_type":0, "op_x": 681, "op_y": 538,  "Action": "_", "correct_x":595.0, "correct_y":302.5, "slidebarleft_x":529.0, "slidebarleft_y":457.5, "slidebarright_x":565.0, "slidebarright_y":493.5}]}
    # params = {"event_info": [{"Time": 1515639896196, "event_type": 0, "op_x": 681, "op_y": 538, "Action": "_", },{"Time": 1515639896196, "event_type": 0, "op_x": 681, "op_y": 538, "Action": "_"}], "true_info": [{"correct_x": 595.0, "correct_y": 302.5, "slidebarleft_x": 529.0, "slidebarleft_y": 457.5, "slidebarright_x": 565.0,"slidebarright_y": 493.5}]}
    #params = {"event_info":"{\"mouse_event_type\":[1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,3,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,2,3,0,0,0,0,1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,1,0,1,0,1,1,1,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,2,3],\"Action\":[\"38\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"36\",\"0\",null,\"0\",null,null,\"0\",null,null,\"0\",\"0\",\"0\",null,\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"36\",null,null,null,\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",null,\"0\",\"0\",\"0\",\"0\",null,\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",null,\"0\",null,\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",null,\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"36\"],\"key_event_type\":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,7,6,0,6,7,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,7,0,0,0,0,0,0,6,0,0,0,0,7,0,0,0,0,0,0,6,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\"Time\":[1516699395959,1516699397507,1516699397513,1516699397658,1516699397776,1516699397816,1516699397826,1516699397842,1516699397861,1516699397884,1516699397891,1516699397912,1516699398000,1516699398025,1516699398042,1516699398058,1516699398075,1516699398091,1516699398108,1516699398125,1516699398142,1516699398158,1516699398175,1516699398191,1516699398208,1516699398225,1516699398242,1516699398264,1516699398286,1516699398304,1516699398312,1516699398325,1516699398342,1516699398358,1516699398375,1516699398375,1516699398375,1516699398375,1516699398375,1516699398375,1516699398375,1516699398375,1516699398375,1516699398375,1516699398375,1516699398375,1516699398375,1516699398375,1516699398375,1516699398375,1516699398375,1516699398375,1516699398721,1516699399122,1516699399288,1516699399295,1516699399309,1516699399327,1516699399345,1516699399363,1516699399376,1516699399392,1516699399409,1516699399424,1516699399725,1516699400817,1516699400827,1516699400843,1516699400859,1516699400877,1516699400893,1516699400910,1516699400927,1516699400946,1516699401207,1516699401219,1516699401227,1516699401244,1516699401261,1516699401280,1516699401293,1516699401310,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401328,1516699401722,1516699401923,1516699402126,1516699402145,1516699402162,1516699402177,1516699402194,1516699402210,1516699402227,1516699402245,1516699402265,1516699402277,1516699402295,1516699402311,1516699402329,1516699402344,1516699402361,1516699402593,1516699402612,1516699402923,1516699403038,1516699403122,1516699403179,1516699403288,1516699403324,1516699403396,1516699403435,1516699403522,1516699403530,1516699403538,1516699403538,1516699403561,1516699403578,1516699403595,1516699403611,1516699403628,1516699403644,1516699403661,1516699403677,1516699403694,1516699403711,1516699403728,1516699403937,1516699403944,1516699404157,1516699404172,1516699404299,1516699404327,1516699404375,1516699404382,1516699404395,1516699404412,1516699404416,1516699404416,1516699404428,1516699404445,1516699404461,1516699404463,1516699404464,1516699404478,1516699404495,1516699404511,1516699404528,1516699404544,1516699404561,1516699404572,1516699404595,1516699404612,1516699404640,1516699404655,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404688,1516699404708,1516699404924,1516699405124,1516699405324,1516699405472,1516699405480,1516699405495,1516699405511,1516699405529,1516699405545,1516699405562,1516699405579,1516699405596,1516699405612,1516699405628,1516699405645,1516699405662,1516699405678,1516699405695,1516699405712,1516699405728,1516699405746,1516699405762,1516699405778,1516699405795,1516699405812,1516699405829,1516699405881,1516699405895,1516699405913,1516699405929,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699405945,1516699406324,1516699406524,1516699406724,1516699406755,1516699406762,1516699406778,1516699406795,1516699406812,1516699406829,1516699406845,1516699406862,1516699406879,1516699406896,1516699406912,1516699406930,1516699406946,1516699406962,1516699406979,1516699406995,1516699407012,1516699407029,1516699407046,1516699407062,1516699407079,1516699407096,1516699407113,1516699407147,1516699407342,1516699407356,1516699407363,1516699407379,1516699407395,1516699407412,1516699407428,1516699407446,1516699407463,1516699407479,1516699407497,1516699407513,1516699407530,1516699407546,1516699407563,1516699407928,1516699408081,1516699408086],\"dialog_type\":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,72,0,72,72,0,72,72,0,0,0,72,0,0,0,0,0,0,0,0,0,0,0,0,0,73,73,73,0,0,0,0,0,0,73,0,0,0,0,73,0,0,0,0,0,0,73,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\"op_x\":[416,416,570,624,631,663,677,690,698,705,707,709,710,710,711,714,718,721,725,730,735,739,743,745,746,747,747,747,747,747,747,747,747,747,747,747,747,747,747,747,747,747,747,747,747,747,747,747,747,747,747,747,747,747,745,742,737,707,633,539,367,266,209,178,178,234,310,395,486,541,605,656,682,702,723,728,733,741,750,757,762,767,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,771,770,770,769,765,760,751,740,728,725,720,716,714,711,709,709,709,709,0,709,0,0,709,0,0,709,709,708,0,704,695,691,686,682,680,678,675,674,672,670,670,670,0,0,0,670,672,674,677,686,690,0,694,704,712,716,0,717,725,727,728,729,729,0,729,0,729,730,730,730,730,730,730,730,730,730,730,730,730,730,730,730,730,730,730,730,730,730,730,730,730,730,0,730,730,730,730,729,728,727,726,725,725,724,724,724,724,724,724,724,724,728,734,743,750,754,756,757,758,758,758,758,758,758,758,758,758,758,758,758,758,758,758,758,758,758,758,758,758,758,758,758,758,758,758,758,758,758,758,758,757,757,755,754,750,746,742,739,736,733,730,727,724,721,716,713,711,710,709,708,708,708,708,708,708,708,708,708,709,710,716,724,731,737,742,745,746,747,747,747,747,747],\"op_y\":[317,317,267,246,247,254,255,257,257,256,256,255,255,255,255,255,254,253,252,250,249,247,246,246,245,245,245,244,244,244,244,243,243,242,241,241,240,237,229,218,206,192,182,170,146,135,124,114,104,94,85,77,241,241,69,69,69,70,78,94,132,159,174,183,183,183,161,138,115,102,86,69,58,47,53,56,59,64,69,74,77,81,85,85,86,88,90,93,99,115,120,126,132,137,141,145,149,152,155,156,158,160,162,164,166,168,170,172,174,176,179,180,183,185,186,187,188,85,85,85,189,189,189,188,188,187,186,185,184,183,182,181,181,181,181,181,181,0,181,0,0,181,0,0,181,183,185,0,192,206,213,223,231,234,239,242,245,248,250,250,250,0,0,0,250,250,250,249,247,245,0,244,242,240,239,0,239,238,238,238,238,238,0,237,0,237,237,237,237,238,240,242,245,258,270,281,292,298,310,334,345,356,367,377,387,396,403,403,407,407,407,0,237,237,237,404,404,404,404,404,402,401,400,399,398,398,397,396,395,392,386,378,366,357,352,349,347,347,347,348,348,349,349,349,348,346,343,340,334,329,322,316,312,310,308,305,304,303,302,301,301,301,301,301,302,303,349,349,304,304,304,305,306,308,312,316,319,322,324,328,331,335,342,352,356,360,363,365,365,366,366,367,367,367,366,366,366,365,363,357,348,340,334,328,325,324,324,324,324,324,324]}","true_info":"{\"second_x\":343,\"second_y\":343,\"scenario\":0,\"terminal\":0,\"first_x\":582,\"first_y\":299}"}
    #params = {"event_info":"{\"mouse_event_type\":[1,0,1,5,5,5,0,1,5,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,2,3],\"Action\":[\"38\",\"0\",\"38\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"36\"],\"key_event_type\":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\"Time\":[1517301814615,1517301814816,1517301814819,1517301814819,1517301814819,1517301814819,1517301815111,1517301815664,1517301815664,1517301815775,1517301815798,1517301815822,1517301815850,1517301816150,1517301816816,1517301816823,1517301816843,1517301816853,1517301816869,1517301816886,1517301816903,1517301816920,1517301816937,1517301816953,1517301816971,1517301816986,1517301817003,1517301817020,1517301817037,1517301817053,1517301817070,1517301817086,1517301817104,1517301817120,1517301817136,1517301817353,1517301817383,1517301817389,1517301817404,1517301817422,1517301817437,1517301817456,1517301817470,1517301817486,1517301817503,1517301817520,1517301817537,1517301817554,1517301817588,1517301817953,1517301818462,1517301818468],\"dialog_type\":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\"op_x\":[714,714,711,711,711,711,711,291,711,290,284,273,227,227,179,215,291,352,426,492,534,579,604,629,648,661,666,672,674,676,677,678,679,680,680,680,682,685,688,695,708,714,717,721,722,723,723,723,723,723,723,723],\"op_y\":[78,78,83,83,84,234,83,424,233,423,423,429,454,454,430,416,391,380,369,365,365,365,365,365,365,365,365,365,367,367,368,369,369,369,369,369,368,366,364,358,348,342,339,336,335,334,334,334,333,333,333,333]}","true_info":"{\"second_x\":343,\"second_y\":343,\"scenario\":0,\"terminal\":0,\"first_x\":582,\"first_y\":299}"}
    params = {"event_info":"{\"Action\":[\"0\",\"38\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"38\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"39\"],\"event_info\":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\"Time\":[1516950045851,1516950045920,1516950046242,1516950326720,1516950326736,1516950326751,1516950326768,1516950326784,1516950326802,1516950326818,1516950326835,1516950326851,1516950326868,1516950326868,1516950326868,1516950326868,1516950326868,1516950326868,1516950326868,1516950326868,1516950326868,1516950326868,1516950326868,1516950326868,1516950326868,1516950326868,1516950326868,1516950326868,1516950326868,1516950326868,1516950327243,1516950327445,1516950327645,1516950327766,1516950327782,1516950327798,1516950327817,1516950327832,1516950327848,1516950327865,1516950327882,1516950328246,1516950330209,1516950330216,1516950330255,1516950330319,1516950330351,1516950330383,1516950330645,1516950330712,1516950330719,1516950330732,1516950331044,1516950332950,1516950332966,1516950332982,1516950332999,1516950333015,1516950333032,1516950333049,1516950333065,1516950333083,1516950333099,1516950333116,1516950333132,1516950333149,1516950333365,1516950333382,1516950333399,1516950333415,1516950333432,1516950333449,1516950333466,1516950333482,1516950333499,1516950333515,1516950333532,1516950333549,1516950333566,1516950333589,1516950333598,1516950333615,1516950333632,1516950333649,1516950333665,1516950333682,1516950333699,1516950333715,1516950333732,1516950333749,1516950333766,1516950333783,1516950333798,1516950334045,1516950334486,1516950334509,1516950334806,1516950334809,1516950334815,1516950334816,1516950334832,1516950334832,1516950334849,1516950334849,1516950334865,1516950334866,1516950334882,1516950334883,1516950334898,1516950334899,1516950334916,1516950334917,1516950334934,1516950334935,1516950334949,1516950334950,1516950334966,1516950334966,1516950334983,1516950334983,1516950335039,1516950335039,1516950335278,1516950335278,1516950335286,1516950335286,1516950335298,1516950335299,1516950335316,1516950335317,1516950335332,1516950335333,1516950335349,1516950335349,1516950335365,1516950335366,1516950335382,1516950335382,1516950335398,1516950335399,1516950335415,1516950335416,1516950335432,1516950335432,1516950335449,1516950335449,1516950335465,1516950335466,1516950335482,1516950335483,1516950335499,1516950335499,1516950335516,1516950335516,1516950335532,1516950335533,1516950335807,1516950335808,1516950335815,1516950335815,1516950335832,1516950335832,1516950335848,1516950335849,1516950335865,1516950335866,1516950335882,1516950335883,1516950335899,1516950335899,1516950335916,1516950335916,1516950335932,1516950335933,1516950335949,1516950335950,1516950335967,1516950335967,1516950335982,1516950335983,1516950335998,1516950335999,1516950336015,1516950336016,1516950336032,1516950336032,1516950336049,1516950336049,1516950336065,1516950336066,1516950336082,1516950336083,1516950336099,1516950336099,1516950336115,1516950336115,1516950336132,1516950336132,1516950336639,1516950336639,1516950336663,1516950336663,1516950336703,1516950336703,1516950336751,1516950336752,1516950336823,1516950336823,1516950337336,1516950337336,1516950337367,1516950337368,1516950337407,1516950337407,1516950338384],\"op_x\":[700,573,573,781,804,836,844,850,852,853,853,851,846,846,846,846,846,846,846,846,846,846,846,846,846,846,846,846,846,846,846,846,846,846,846,845,838,832,824,814,804,804,1010,1010,1010,1010,1009,1009,1009,1009,1009,1009,1009,888,833,771,710,660,629,595,577,567,559,556,556,558,558,561,565,569,571,574,575,575,576,576,576,576,576,576,576,576,576,576,577,579,581,582,584,584,585,585,585,585,585,585,585,585,586,586,587,587,588,588,589,589,591,591,592,592,594,594,595,595,597,597,597,597,598,598,598,598,598,598,598,598,599,599,601,601,603,603,605,605,608,608,612,612,615,615,617,617,619,619,621,621,623,623,623,623,624,624,625,625,625,625,625,625,627,627,631,631,635,635,640,640,643,643,646,646,648,648,650,650,651,651,652,652,653,653,654,654,655,655,656,656,657,657,659,659,659,659,660,660,660,660,660,660,661,661,661,661,661,661,661,661,662,662,661,661,661,661,661,661,661],\"op_y\":[324,395,395,392,376,349,341,335,333,332,332,335,340,340,341,344,349,355,367,387,387,387,388,388,388,388,388,388,388,388,340,340,340,388,389,391,400,410,422,436,449,449,454,454,454,454,454,454,454,454,454,454,454,454,446,436,425,414,407,400,396,394,393,392,392,390,390,395,401,407,410,414,415,416,417,417,417,417,418,418,418,418,419,419,419,420,420,421,421,421,421,422,422,422,422,422,422,422,422,422,422,422,422,422,423,423,423,423,423,423,423,423,423,423,423,423,423,423,423,423,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,424,425,425,425,425,425,425,425,425,425,425,425,425,425,425,425,425,425,425,425,425,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426,426]}","model_uuid":"20180126498288$$2","true_info":"{\"correct_y\":608,\"correct_x\":608,\"scenario\":1,\"slidebarleft_x\":350,\"slidebarleft_y\":572,\"slidebarright_y\":450,\"terminal\":0,\"slidebarright_x\":414}"} 
    #params = {"event_info":{"mouse_event_type":[3],"Action":["36"],"key_event_type":[0],"Time":[1517638126591],"dialog_type":[0],"op_x":[1004],"op_y":[401]},"true_info":{"second_x":432,"second_y":432,"scenario":0,"terminal":0,"first_x":851,"first_y":390}}
    #import time
    #start = time.time()
    params = {"event_info":"{\"mouse_event_type\":[1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,1,1,1,1,5,1,1,5,1,1,1,1,1,1,1,1,1,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,5,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,2,3],\"Action\":[\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"38\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"0\",\"38\",\"0\",\"0\",\"36\"],\"key_event_type\":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\"Time\":[1517970849459,1517970849464,1517970849465,1517970849465,1517970849466,1517970849466,1517970849467,1517970849467,1517970849467,1517970849851,1517970850365,1517970850365,1517970850379,1517970850395,1517970850405,1517970850405,1517970850417,1517970850432,1517970850433,1517970850449,1517970850453,1517970850467,1517970850472,1517970850483,1517970850501,1517970850504,1517970850519,1517970850522,1517970850532,1517970850554,1517970850563,1517970850573,1517970850601,1517970850602,1517970850614,1517970850623,1517970850632,1517970850649,1517970850653,1517970850664,1517970850673,1517970850682,1517970850682,1517970850733,1517970850749,1517970850753,1517970850770,1517970850770,1517970850782,1517970850797,1517970850797,1517970850816,1517970850822,1517970850832,1517970850847,1517970850853,1517970850865,1517970850873,1517970850883,1517970850901,1517970850901,1517970850933,1517970850948,1517970850953,1517970850965,1517970850973,1517970850983,1517970851015,1517970851023,1517970851032,1517970851048,1517970851054,1517970851065,1517970851073,1517970851082,1517970851100,1517970851103,1517970851103,1517970851103,1517970851268,1517970851273,1517970851283,1517970851298,1517970851304,1517970851318,1517970851322,1517970851333,1517970851343,1517970851354,1517970851368,1517970851373,1517970851383,1517970851398,1517970851404,1517970851417,1517970851422,1517970851435,1517970851443,1517970851454,1517970851467,1517970851473,1517970851483,1517970851493,1517970851504,1517970851517,1517970851523,1517970851533,1517970851543,1517970851555,1517970851573,1517970851573,1517970851582,1517970851593,1517970851604,1517970851616,1517970851623,1517970851633,1517970851643,1517970851653,1517970851668,1517970851673,1517970851684,1517970851693,1517970851703,1517970851718,1517970851723,1517970851733,1517970851743,1517970851753,1517970851768,1517970851773,1517970851974,1517970851985,1517970851993,1517970852017,1517970852023,1517970852285,1517970852344,1517970852361],\"dialog_type\":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\"op_x\":[740,770,796,800,800,800,1099,1093,971,971,243,243,326,430,653,653,758,939,939,1006,1058,1095,1120,1134,1142,1146,1149,1153,1156,1161,1164,1167,1170,1175,1179,1185,1189,1193,1195,1197,1197,1197,1197,1198,1198,1198,1199,1198,1200,1200,1200,1201,1202,1202,1203,1203,1204,1205,1205,1205,1204,1204,1203,1202,1200,1197,1195,1193,1192,1191,1190,1190,1189,1188,1187,1187,1186,1186,1186,1185,1184,1182,1179,1174,1163,1149,1128,1104,1080,1056,1033,1012,990,971,951,932,915,901,889,878,868,859,851,841,833,825,817,810,803,790,790,786,781,776,772,768,763,758,753,747,741,737,733,730,727,725,724,722,720,719,718,718,718,717,717,717,717,717,717],\"op_y\":[260,234,200,193,193,192,197,272,316,316,318,318,297,274,218,218,189,143,143,129,119,113,110,108,108,107,107,107,108,111,113,116,121,127,134,140,147,152,154,156,156,157,156,157,158,159,162,161,163,167,166,170,171,177,187,189,200,201,211,221,221,247,259,259,273,273,286,307,307,315,323,323,329,329,332,333,333,333,334,334,335,337,339,340,344,346,349,350,352,355,355,359,361,361,364,365,367,368,371,373,374,377,377,378,381,382,385,386,387,389,389,390,391,392,394,397,399,402,406,409,411,413,414,415,416,417,418,418,419,419,420,419,418,418,418,417,417,417,417]}",
  "true_info":"{\"second_x\":413,\"second_y\":413,\"scenario\":1,\"terminal\":0,\"first_x\":568,\"first_y\":390}"}
    handle(params)
    #end = time.time()
    #print("procedure si ", end - start)